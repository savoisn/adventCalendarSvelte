var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function f(){return d(" ")}function p(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function h(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function b(e,t,n){e.classList[n?"add":"remove"](t)}let $;function v(e){$=e}function w(e){(function(){if(!$)throw new Error("Function called outside component initialization");return $})().$$.on_mount.push(e)}const x=[],y=[],k=[],T=[],O=Promise.resolve();let P=!1;function _(e){k.push(e)}let L=!1;const N=new Set;function E(){if(!L){L=!0;do{for(let e=0;e<x.length;e+=1){const t=x[e];v(t),M(t.$$)}for(v(null),x.length=0;y.length;)y.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];N.has(t)||(N.add(t),t())}k.length=0}while(x.length);for(;T.length;)T.pop()();P=!1,L=!1,N.clear()}}function M(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_)}}const z=new Set;let S;function q(e,t){e&&e.i&&(z.delete(e),e.i(t))}function A(e,t,n,r){if(e&&e.o){if(z.has(e))return;z.add(e),S.c.push((()=>{z.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function D(e,n,a){const{fragment:s,on_mount:c,on_destroy:i,after_update:u}=e.$$;s&&s.m(n,a),_((()=>{const n=c.map(t).filter(o);i?i.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(_)}function U(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function C(e,t){-1===e.$$.dirty[0]&&(x.push(e),P||(P=!0,O.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function R(t,o,a,s,c,i,l=[-1]){const d=$;v(t);const f=o.props||{},p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:l,skip_bound:!1};let m=!1;if(p.ctx=a?a(t,f,((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&c(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),m&&C(t,e)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(u)}else p.fragment&&p.fragment.c();o.intro&&q(t.$$.fragment),D(t,o.target,o.anchor),E()}v(d)}class j{$destroy(){U(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const B=[];const F=localStorage.getItem("door"),{subscribe:I,set:V,update:W}=function(t,n=e){let r;const o=[];function s(e){if(a(t,e)&&(t=e,r)){const e=!B.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),B.push(n,t)}if(e){for(let e=0;e<B.length;e+=2)B[e][0](B[e+1]);B.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(a,c=e){const i=[a,c];return o.push(i),1===o.length&&(r=n(s)||e),a(t),()=>{const e=o.indexOf(i);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}(F);I((e=>{localStorage.setItem("door",e)}));var H={subscribe:I,addDoor:e=>W((t=>(console.log(t,e),t<e?e:t))),reset:()=>{V(0)}};function K(e){let t,n,r,o;return{c(){t=l("div"),n=l("div"),r=l("span"),o=d(e[3]),m(r,"class","bgSpan svelte-1cbo3zo"),m(n,"class","backgroundText svelte-1cbo3zo"),m(t,"class","backgroundPicture svelte-1cbo3zo")},m(e,a){i(e,t,a),c(t,n),c(n,r),c(r,o)},p(e,t){8&t&&g(o,e[3])},d(e){e&&u(t)}}}function Q(e){let t,n,r,o,a;return{c(){t=l("a"),n=l("div"),r=l("div"),o=l("span"),a=d(e[3]),m(o,"class","bgSpan svelte-1cbo3zo"),m(r,"class","backgroundText svelte-1cbo3zo"),m(n,"class","backgroundPicture svelte-1cbo3zo"),m(t,"href",e[4]),m(t,"target","_blank"),m(t,"class","svelte-1cbo3zo")},m(e,s){i(e,t,s),c(t,n),c(n,r),c(r,o),c(o,a)},p(e,n){8&n&&g(a,e[3]),16&n&&m(t,"href",e[4])},d(e){e&&u(t)}}}function J(t){let n,r,o,a,s,$,v,w;function x(e,t){return""!==e[4]?Q:K}let y=x(t),k=y(t);return{c(){n=l("main"),r=l("div"),k.c(),o=f(),a=l("div"),s=l("span"),$=d(t[1]),m(s,"class","doorNumber svelte-1cbo3zo"),m(a,"class","door svelte-1cbo3zo"),b(a,"doorOpen",t[0]),m(r,"class","backDoor svelte-1cbo3zo"),h(r,"--imagePath","url("+t[2]+")"),m(n,"class","svelte-1cbo3zo")},m(e,u){i(e,n,u),c(n,r),k.m(r,null),c(r,o),c(r,a),c(a,s),c(s,$),v||(w=p(a,"click",t[5]),v=!0)},p(e,[t]){y===(y=x(e))&&k?k.p(e,t):(k.d(1),k=y(e),k&&(k.c(),k.m(r,o))),2&t&&g($,e[1]),1&t&&b(a,"doorOpen",e[0]),4&t&&h(r,"--imagePath","url("+e[2]+")")},i:e,o:e,d(e){e&&u(n),k.d(),v=!1,w()}}}function Y(e,t,n){let{doorNumber:r=12}=t,{canOpen:o=!0}=t,{imagePath:a=""}=t,{rewardText:s=""}=t,{rewardLink:c=""}=t,{doorOpen:i=!1}=t;return e.$$set=e=>{"doorNumber"in e&&n(1,r=e.doorNumber),"canOpen"in e&&n(6,o=e.canOpen),"imagePath"in e&&n(2,a=e.imagePath),"rewardText"in e&&n(3,s=e.rewardText),"rewardLink"in e&&n(4,c=e.rewardLink),"doorOpen"in e&&n(0,i=e.doorOpen)},[i,r,a,s,c,function(){o?(n(0,i=!i),H.addDoor(r)):n(0,i=!1)},o]}class X extends j{constructor(e){super(),R(this,e,Y,J,a,{doorNumber:1,canOpen:6,imagePath:2,rewardText:3,rewardLink:4,doorOpen:0})}}function Z(e,t,n){const r=e.slice();return r[10]=t[n],r}function G(e){let t,n;return t=new X({props:{imagePath:e[10].reward.imagePath,rewardText:e[10].reward.rewardText,rewardLink:e[10].reward.rewardLink,doorNumber:e[10].day,doorOpen:e[10].day<=e[2],canOpen:e[10].canOpen}}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,r){D(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.imagePath=e[10].reward.imagePath),2&n&&(r.rewardText=e[10].reward.rewardText),2&n&&(r.rewardLink=e[10].reward.rewardLink),2&n&&(r.doorNumber=e[10].day),6&n&&(r.doorOpen=e[10].day<=e[2]),2&n&&(r.canOpen=e[10].canOpen),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){A(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function ee(e){let t,n,o,a,s,h,b,$,v,w,x,y,k,T,O,P,_,L,N,E,M,z,D,U=e[1],C=[];for(let t=0;t<U.length;t+=1)C[t]=G(Z(e,U,t));const R=e=>A(C[e],1,1,(()=>{C[e]=null}));return{c(){t=l("main"),n=l("h1"),o=d("Iterative "),a=d(e[0]),s=d(" By Talan!"),h=f(),b=l("p"),b.textContent="❤️Made with love by Talan Labs❤️",$=f(),v=l("p"),v.textContent="Envie d'apprendre un savoir inutile et de gagner des cadeaux ?",w=f(),x=l("p"),x.textContent="Clique sur la case du jour et réponds à la question posée.",y=f(),k=l("p"),k.textContent="A vous de jouer !",T=f(),O=l("div");for(let e=0;e<C.length;e+=1)C[e].c();P=f(),_=l("div"),_.innerHTML="<p>A gagner : livres, cd, ballons de rugby, polos Stade Français, et plein d’autres surprises !  Avec en bonus un chèque cadeau pour celui qui répondra correctement à un maximum de questions.</p> \n\t\n\t<p>La réponse et les gagnants seront annoncés le lendemain sur Workplace.</p>",L=f(),N=l("div"),E=l("button"),E.textContent="reset progression",m(n,"class","svelte-1dpsacs"),m(O,"class","box svelte-1dpsacs"),m(t,"class","svelte-1dpsacs")},m(r,u){i(r,t,u),c(t,n),c(n,o),c(n,a),c(n,s),c(t,h),c(t,b),c(t,$),c(t,v),c(t,w),c(t,x),c(t,y),c(t,k),c(t,T),c(t,O);for(let e=0;e<C.length;e+=1)C[e].m(O,null);c(t,P),c(t,_),c(t,L),c(t,N),c(N,E),M=!0,z||(D=p(E,"click",e[3]),z=!0)},p(e,[t]){if((!M||1&t)&&g(a,e[0]),6&t){let n;for(U=e[1],n=0;n<U.length;n+=1){const r=Z(e,U,n);C[n]?(C[n].p(r,t),q(C[n],1)):(C[n]=G(r),C[n].c(),q(C[n],1),C[n].m(O,null))}for(S={r:0,c:[],p:S},n=U.length;n<C.length;n+=1)R(n);S.r||r(S.c),S=S.p}},i(e){if(!M){for(let e=0;e<U.length;e+=1)q(C[e]);M=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)A(C[e]);M=!1},d(e){e&&u(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(C,e),z=!1,D()}}}function te(e,t,n){let r;s(e,H,(e=>n(2,r=e)));let{name:o=""}=t,a=[],c=Date.parse("2020-11-30T00:00+01:00"),i=Date.now(),u=1;let l={0:{imagePath:"images/1.png",rewardText:"",rewardLink:"https://forms.office.com/Pages/ResponsePage.aspx?id=UoFsLNBEEUWcmgqQTMfueMK0lpWymFpHisRfHRqKlr5UMDNWVldUV1JXTFY5TElNMERZNTBBMDFRMS4u"},1:{imagePath:"images/2.jpg",rewardText:"",rewardLink:"https://forms.office.com/Pages/ResponsePage.aspx?id=UoFsLNBEEUWcmgqQTMfueMK0lpWymFpHisRfHRqKlr5UQldYUVA2RkdISVVMQTNTVkdBVUNPWkJJUy4u"}};return w((async()=>{await fetch("http://worldclockapi.com/api/json/cet/now").then((e=>e.json())).then((e=>{if(e.currentDateTime){i=Date.parse(e.currentDateTime),function(){let e=i-c;u=Math.floor(e/864e5)}();for(let e in[...Array(25).keys()]){const n=parseInt(e)+1;a.push({day:n,canOpen:(t=n,t-u<=0),reward:l[n-1]?l[n-1]:""})}n(1,a)}var t}))})),e.$$set=e=>{"name"in e&&n(0,o=e.name)},[o,a,r,function(){H.reset()}]}null===localStorage.getItem("door")&&localStorage.setItem("door",0);return new class extends j{constructor(e){super(),R(this,e,te,ee,a,{name:0})}}({target:document.body,props:{name:"Advent Calendar"}})}();
//# sourceMappingURL=bundle.js.map
