var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function i(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function f(){return d(" ")}function p(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function h(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function b(e,t,n){e.classList[n?"add":"remove"](t)}let v;function $(e){v=e}function w(e){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(e)}const x=[],y=[],k=[],T=[],P=Promise.resolve();let q=!1;function O(e){k.push(e)}let L=!1;const N=new Set;function R(){if(!L){L=!0;do{for(let e=0;e<x.length;e+=1){const t=x[e];$(t),_(t.$$)}for($(null),x.length=0;y.length;)y.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];N.has(t)||(N.add(t),t())}k.length=0}while(x.length);for(;T.length;)T.pop()();q=!1,L=!1,N.clear()}}function _(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const E=new Set;let M;function U(e,t){e&&e.i&&(E.delete(e),e.i(t))}function F(e,t,n,r){if(e&&e.o){if(E.has(e))return;E.add(e),M.c.push((()=>{E.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function S(e,n,a){const{fragment:s,on_mount:i,on_destroy:c,after_update:u}=e.$$;s&&s.m(n,a),O((()=>{const n=i.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(O)}function B(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(x.push(e),q||(q=!0,P.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(t,o,a,s,i,c,l=[-1]){const d=v;$(t);const f=o.props||{},p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:l,skip_bound:!1};let m=!1;if(p.ctx=a?a(t,f,((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),m&&D(t,e)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(u)}else p.fragment&&p.fragment.c();o.intro&&U(t.$$.fragment),S(t,o.target,o.anchor),R()}$(d)}class A{$destroy(){B(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const W=[];const j=localStorage.getItem("door"),{subscribe:H,set:C,update:K}=function(t,n=e){let r;const o=[];function s(e){if(a(t,e)&&(t=e,r)){const e=!W.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),W.push(n,t)}if(e){for(let e=0;e<W.length;e+=2)W[e][0](W[e+1]);W.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(a,i=e){const c=[a,i];return o.push(c),1===o.length&&(r=n(s)||e),a(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}(j);H((e=>{localStorage.setItem("door",e)}));var Q={subscribe:H,addDoor:e=>K((t=>(console.log(t,e),t<e?e:t))),reset:()=>{C(0)}};function I(e){let t,n,r,o;return{c(){t=l("div"),n=l("div"),r=l("span"),o=d(e[3]),m(r,"class","bgSpan svelte-1tdtiqv"),m(n,"class","backgroundText svelte-1tdtiqv"),m(t,"class","backgroundPicture svelte-1tdtiqv")},m(e,a){c(e,t,a),i(t,n),i(n,r),i(r,o)},p(e,t){8&t&&g(o,e[3])},d(e){e&&u(t)}}}function J(e){let t,n,r,o,a;return{c(){t=l("a"),n=l("div"),r=l("div"),o=l("span"),a=d(e[3]),m(o,"class","bgSpan svelte-1tdtiqv"),m(r,"class","backgroundText svelte-1tdtiqv"),m(n,"class","backgroundPicture svelte-1tdtiqv"),m(t,"href",e[4]),m(t,"target","_blank"),m(t,"class","svelte-1tdtiqv")},m(e,s){c(e,t,s),i(t,n),i(n,r),i(r,o),i(o,a)},p(e,n){8&n&&g(a,e[3]),16&n&&m(t,"href",e[4])},d(e){e&&u(t)}}}function Z(t){let n,r,o,a,s,v,$,w;function x(e,t){return""!==e[4]?J:I}let y=x(t),k=y(t);return{c(){n=l("main"),r=l("div"),k.c(),o=f(),a=l("div"),s=l("span"),v=d(t[1]),m(s,"class","doorNumber svelte-1tdtiqv"),m(a,"class","door svelte-1tdtiqv"),b(a,"doorOpen",t[0]),m(r,"class","backDoor svelte-1tdtiqv"),h(r,"--imagePath","url("+t[2]+")"),m(n,"class","svelte-1tdtiqv")},m(e,u){c(e,n,u),i(n,r),k.m(r,null),i(r,o),i(r,a),i(a,s),i(s,v),$||(w=p(a,"click",t[5]),$=!0)},p(e,[t]){y===(y=x(e))&&k?k.p(e,t):(k.d(1),k=y(e),k&&(k.c(),k.m(r,o))),2&t&&g(v,e[1]),1&t&&b(a,"doorOpen",e[0]),4&t&&h(r,"--imagePath","url("+e[2]+")")},i:e,o:e,d(e){e&&u(n),k.d(),$=!1,w()}}}function z(e,t,n){let{doorNumber:r=12}=t,{canOpen:o=!0}=t,{imagePath:a=""}=t,{rewardText:s=""}=t,{rewardLink:i=""}=t,{doorOpen:c=!1}=t;return e.$$set=e=>{"doorNumber"in e&&n(1,r=e.doorNumber),"canOpen"in e&&n(6,o=e.canOpen),"imagePath"in e&&n(2,a=e.imagePath),"rewardText"in e&&n(3,s=e.rewardText),"rewardLink"in e&&n(4,i=e.rewardLink),"doorOpen"in e&&n(0,c=e.doorOpen)},[c,r,a,s,i,function(){o?(n(0,c=!c),Q.addDoor(r)):n(0,c=!1)},o]}class Y extends A{constructor(e){super(),V(this,e,z,Z,a,{doorNumber:1,canOpen:6,imagePath:2,rewardText:3,rewardLink:4,doorOpen:0})}}function X(e,t,n){const r=e.slice();return r[10]=t[n],r}function G(e){let t,n;return t=new Y({props:{imagePath:e[10].reward.imagePath,rewardText:e[10].reward.rewardText,rewardLink:e[10].reward.rewardLink,doorNumber:e[10].day,doorOpen:e[10].day<=e[2],canOpen:e[10].canOpen}}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,r){S(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.imagePath=e[10].reward.imagePath),2&n&&(r.rewardText=e[10].reward.rewardText),2&n&&(r.rewardLink=e[10].reward.rewardLink),2&n&&(r.doorNumber=e[10].day),6&n&&(r.doorOpen=e[10].day<=e[2]),2&n&&(r.canOpen=e[10].canOpen),t.$set(r)},i(e){n||(U(t.$$.fragment,e),n=!0)},o(e){F(t.$$.fragment,e),n=!1},d(e){B(t,e)}}}function ee(e){let t,n,o,a,s,h,b,v,$,w,x,y,k,T,P,q,O,L,N,R,_,E,S,B=e[1],D=[];for(let t=0;t<B.length;t+=1)D[t]=G(X(e,B,t));const V=e=>F(D[e],1,1,(()=>{D[e]=null}));return{c(){t=l("main"),n=l("h1"),o=d("Iterative "),a=d(e[0]),s=d(" By Talan!"),h=f(),b=l("p"),b.textContent="❤️Made with love by Talan Labs❤️",v=f(),$=l("p"),$.textContent="Envie d'apprendre un savoir inutile et de gagner des cadeaux ?",w=f(),x=l("p"),x.textContent="Clique sur la case du jour et réponds à la question posée.",y=f(),k=l("p"),k.textContent="A vous de jouer !",T=f(),P=l("div");for(let e=0;e<D.length;e+=1)D[e].c();q=f(),O=l("div"),O.innerHTML="<p>A gagner : livres, cd, ballons de rugby, polos Stade Français, et plein d’autres surprises !  Avec en bonus un chèque cadeau pour celui qui répondra correctement à un maximum de questions.</p> \n\t\n\t<p>La réponse et les gagnants seront annoncés le lendemain sur Workplace.</p>",L=f(),N=l("div"),R=l("button"),R.textContent="reset progression",m(n,"class","svelte-1dpsacs"),m(P,"class","box svelte-1dpsacs"),m(t,"class","svelte-1dpsacs")},m(r,u){c(r,t,u),i(t,n),i(n,o),i(n,a),i(n,s),i(t,h),i(t,b),i(t,v),i(t,$),i(t,w),i(t,x),i(t,y),i(t,k),i(t,T),i(t,P);for(let e=0;e<D.length;e+=1)D[e].m(P,null);i(t,q),i(t,O),i(t,L),i(t,N),i(N,R),_=!0,E||(S=p(R,"click",e[3]),E=!0)},p(e,[t]){if((!_||1&t)&&g(a,e[0]),6&t){let n;for(B=e[1],n=0;n<B.length;n+=1){const r=X(e,B,n);D[n]?(D[n].p(r,t),U(D[n],1)):(D[n]=G(r),D[n].c(),U(D[n],1),D[n].m(P,null))}for(M={r:0,c:[],p:M},n=B.length;n<D.length;n+=1)V(n);M.r||r(M.c),M=M.p}},i(e){if(!_){for(let e=0;e<B.length;e+=1)U(D[e]);_=!0}},o(e){D=D.filter(Boolean);for(let e=0;e<D.length;e+=1)F(D[e]);_=!1},d(e){e&&u(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(D,e),E=!1,S()}}}function te(e,t,n){let r;s(e,Q,(e=>n(2,r=e)));let{name:o=""}=t,a=[],i=Date.parse("2020-11-30T00:00+01:00"),c=Date.now(),u=1;let l={0:{imagePath:"images/1.png",rewardText:"",rewardLink:"https://forms.office.com/Pages/ResponsePage.aspx?id=UoFsLNBEEUWcmgqQTMfueMK0lpWymFpHisRfHRqKlr5UMDNWVldUV1JXTFY5TElNMERZNTBBMDFRMS4u"},1:{imagePath:"images/2.jpg",rewardText:"",rewardLink:"https://forms.office.com/Pages/ResponsePage.aspx?id=UoFsLNBEEUWcmgqQTMfueMK0lpWymFpHisRfHRqKlr5UQldYUVA2RkdISVVMQTNTVkdBVUNPWkJJUy4u"},2:{imagePath:"images/3.jpg",rewardText:"",rewardLink:"https://forms.office.com/Pages/ResponsePage.aspx?id=UoFsLNBEEUWcmgqQTMfueMK0lpWymFpHisRfHRqKlr5UMkZERjAyVDZRNTZKVDdHSUFVOTJSOFYzRi4u"},3:{imagePath:"images/4.png",rewardText:"",rewardLink:"https://forms.office.com/Pages/ResponsePage.aspx?id=UoFsLNBEEUWcmgqQTMfueMK0lpWymFpHisRfHRqKlr5UMFJJVzFQT1lJSkhNSTBRRTg0R1BUVlZZQy4u"}};return w((async()=>{await fetch("http://worldclockapi.com/api/json/cet/now").then((e=>e.json())).then((e=>{if(e.currentDateTime){c=Date.parse(e.currentDateTime),function(){let e=c-i;u=Math.floor(e/864e5)}();for(let e in[...Array(25).keys()]){const n=parseInt(e)+1;a.push({day:n,canOpen:(t=n,t-u<=0),reward:l[n-1]?l[n-1]:""})}n(1,a)}var t}))})),e.$$set=e=>{"name"in e&&n(0,o=e.name)},[o,a,r,function(){Q.reset()}]}null===localStorage.getItem("door")&&localStorage.setItem("door",0);return new class extends A{constructor(e){super(),V(this,e,te,ee,a,{name:0})}}({target:document.body,props:{name:"Advent Calendar"}})}();
//# sourceMappingURL=bundle.js.map
